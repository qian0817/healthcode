(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{567:function(e,t,n){},906:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n(0),r=n(51),i=n.n(r),s=(n(567),n(16)),o=n(35),l=n.n(o),u=n(53),d=n(919),j=n(307),b=n(911),O=n(912),h=n(541),f=n(82),x=n(928),p=n(929),m=n(510),v=n.n(m),g=n(542),y=n(511),S=n.n(y),I=v.a.create({headers:{"Content-Type":"application/x-www-form-urlencoded"}});I.interceptors.request.use((function(e){return e.data=S.a.stringify(e.data),e})),I.interceptors.response.use((function(e){return e}),(function(e){var t=e;return null!=t.response&&g.b.warn(t.response.data.message),Promise.reject(e)}));var k=I,C=n(48),w="set_login_status",E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{login:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return e=t.data;default:return e}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{login:!1};return function(t){t({type:w,data:e})}},M=n(29),A=n(514),T=n(184),D=n(185);function L(){var e=Object(T.a)(["\n  margin: auto;\n  height: 300px;\n  width: 500px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n"]);return L=function(){return e},e}var B,_=Object(D.a)(d.a)(L()),F=n(80),Y=function(){var e=Object(C.c)((function(e){return e.login})),t=Object(C.b)();if(e.login)switch(e.type){case"teacher":return Object(a.jsx)(M.a,{to:"/teacher"});case"student":return Object(a.jsx)(M.a,{to:"/student"});default:return Object(a.jsx)(M.a,{to:"/admin"})}var n=function(){var e=Object(u.a)(l.a.mark((function e(n){var a,c,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=n.username,c=n.password,r=n.type,e.next=6,k.post("/login",{type:r,username:a,password:c});case 6:i=e.sent,t(N(i.data)),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsx)(F.a,{title:"\u767b\u5f55"}),Object(a.jsx)(A.a,{type:"cobweb",bg:!0,num:60}),Object(a.jsxs)(_,{onFinish:n,children:[Object(a.jsx)("h2",{style:{display:"block",fontSize:30,textAlign:"center"},children:"\u5065\u5eb7\u7801\u7ba1\u7406\u7cfb\u7edf"}),Object(a.jsx)(d.a.Item,{name:"type",style:{textAlign:"center"},rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7528\u6237\u7c7b\u578b"}],children:Object(a.jsx)(j.a.Group,{style:{display:"block",width:"100%"},children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)(O.a,{span:8,children:Object(a.jsx)(j.a,{value:"student",children:"\u5b66\u751f"})}),Object(a.jsx)(O.a,{span:8,children:Object(a.jsx)(j.a,{value:"teacher",children:"\u6559\u5e08"})}),Object(a.jsx)(O.a,{span:8,children:Object(a.jsx)(j.a,{value:"admin",children:"\u7ba1\u7406\u5458"})})]})})}),Object(a.jsx)(d.a.Item,{name:"username",rules:[{required:!0,message:"\u8bf7\u586b\u5199\u7528\u6237\u540d"}],children:Object(a.jsx)(h.a,{prefix:Object(a.jsx)(x.a,{className:"site-form-item-icon"}),autoComplete:"username",placeholder:"\u7528\u6237\u540d"})}),Object(a.jsx)(d.a.Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u586b\u5199\u5bc6\u7801"}],children:Object(a.jsx)(h.a,{prefix:Object(a.jsx)(p.a,{className:"site-form-item-icon"}),placeholder:"\u5bc6\u7801",autoComplete:"current-password",type:"password"})}),Object(a.jsx)(d.a.Item,{children:Object(a.jsx)(f.a,{type:"primary",htmlType:"submit",block:!0,children:"\u767b\u5f55"})})]})]})},G=n(915),V=n(921),P=n(926),W=n(918),q=n(924),K=n(544),R=n(923),H=function(e){var t=e.changeClass,n=e.style,r=Object(c.useState)([]),i=Object(s.a)(r,2),o=i[0],d=i[1];Object(c.useEffect)((function(){k.get("/admin/getAllCollege").then((function(e){return d(e.data.map((function(e){return{value:e.id,label:e.name,isLeaf:!1,type:"college"}})))}))}),[]);var j=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:(n=t[t.length-1]).loading=!0,e.prev=4,n.id=n.value,e.t0=n.type,e.next="college"===e.t0?9:"major"===e.t0?14:19;break;case 9:return e.next=11,k.get("/admin/getMajorByCollegeId",{params:{collegeId:n.value}});case 11:return a=e.sent,n.children=a.data.map((function(e){return{value:e.id,label:e.name,isLeaf:!1,type:"major"}})),e.abrupt("break",19);case 14:return e.next=16,k.get("/admin/getAllClazzByMajor",{params:{majorId:n.value}});case 16:return c=e.sent,n.children=c.data.map((function(e){return{value:e.id,label:e.name,isLeaf:!0,type:"class"}})),e.abrupt("break",19);case 19:d(Object(K.a)(o)),e.next=24;break;case 22:e.prev=22,e.t1=e.catch(4);case 24:return e.prev=24,n.loading=!1,e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[4,22,24,27]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)(R.a,{options:o,loadData:j,changeOnSelect:!0,placeholder:"\u8bf7\u9009\u62e9\u73ed\u7ea7",onChange:function(e,n){3===e.length&&null!=n?t(n[2].value):t(null)},style:n})},z=n(930),U=n(537),J=function(e){var t=e.onSuccess,n=e.url;return Object(a.jsxs)(U.a,{name:"file",fileList:[],action:n,onChange:function(e){"done"===e.file.status?(g.b.info("\u5bfc\u5165\u6210\u529f"),t()):"error"===e.file.status&&g.b.warn(e.file.response.message)},children:[Object(a.jsx)("p",{className:"ant-upload-drag-icon",children:Object(a.jsx)(z.a,{})}),Object(a.jsx)("p",{className:"ant-upload-text",children:"\u4eceexcel\u4e2d\u5bfc\u5165"}),Object(a.jsx)("p",{className:"ant-upload-hint",children:"\u70b9\u51fb\u6216\u62d6\u62fd\u6587\u4ef6\u4e0a\u4f20"})]})},$=W.a.TabPane,Q=function(e){var t=e.visible,n=e.setVisible,r=e.onSuccess,i=Object(c.useState)(),o=Object(s.a)(i,2),d=o[0],j=o[1],b=Object(c.useState)(""),O=Object(s.a)(b,2),f=O[0],x=O[1],p=Object(c.useState)(""),m=Object(s.a)(p,2),v=m[0],g=m[1],y=Object(c.useState)(""),S=Object(s.a)(y,2),I=S[0],C=S[1],w=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/admin/insertStudent",{id:f,name:v,classId:d,idCard:I});case 2:j(void 0),x(""),g(""),C(""),n(!1),r();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(q.a,{title:"\u6dfb\u52a0\u65b0\u5b66\u751f",onCancel:function(){return n(!1)},visible:t,onOk:function(){return w()},children:Object(a.jsxs)(W.a,{children:[Object(a.jsxs)($,{tab:"\u624b\u52a8\u5bfc\u5165",children:[Object(a.jsx)(H,{changeClass:function(e){return j(e)},style:{marginBottom:15,width:"100%"}}),Object(a.jsx)(h.a,{placeholder:"\u5b66\u53f7",style:{marginBottom:15},onChange:function(e){return x(e.target.value)},value:f}),Object(a.jsx)(h.a,{placeholder:"\u59d3\u540d",style:{marginBottom:15},onChange:function(e){return g(e.target.value)},value:v}),Object(a.jsx)(h.a,{placeholder:"\u8eab\u4efd\u8bc1\u53f7",style:{marginBottom:15},onChange:function(e){return C(e.target.value)},value:I})]},"1"),Object(a.jsx)($,{tab:"\u4ece excel \u4e2d\u5bfc\u5165",children:Object(a.jsx)(J,{url:"/admin/addStudentFromExcel",onSuccess:function(){n(!1),r()}})},"2")]})})};!function(e){e.SYSTEM_ADMIN="SYSTEM_ADMIN",e.SCHOOL_ADMIN="SCHOOL_ADMIN",e.COLLEGE_ADMIN="COLLEGE_ADMIN"}(B||(B={}));var X,Z=n(913),ee=n(917);!function(e){e.GREEN="GREEN",e.YELLOW="YELLOW",e.RED="RED"}(X||(X={}));var te=function(e){switch(e){case null:return"\u672a\u586b\u62a5";case X.GREEN:return"\u7eff\u7801";case X.RED:return"\u7ea2\u7801";case X.YELLOW:return"\u9ec4\u7801";default:return"\u672a\u586b\u62a5"}},ne=function(e){var t=e.dataSource,n=e.onDelete,c=e.clickUpdate,r=Object(C.c)((function(e){return e.login})).user,i=[{title:"\u5b66\u53f7",dataIndex:"studentId",key:"studentId"},{title:"\u59d3\u540d",dataIndex:"name",key:"name"},{title:"\u5b66\u9662",dataIndex:"collegeName",key:"collegeName"},{title:"\u4e13\u4e1a",dataIndex:"majorName",key:"majorName"},{title:"\u73ed\u7ea7",dataIndex:"className",key:"className"},{title:"\u4eca\u65e5\u6253\u5361\u60c5\u51b5",dataIndex:"hadSubmitDailyCard",key:"hadSubmitDailyCard",render:function(e){return e?"\u5df2\u6253\u5361":"\u672a\u6253\u5361"},filters:[{text:"\u5df2\u6253\u5361",value:!0},{text:"\u672a\u6253\u5361",value:!1}],onFilter:function(e,t){return t.hadSubmitDailyCard===e}},{title:"\u5065\u5eb7\u7801",dataIndex:"type",key:"type",render:function(e){return te(e)},filters:[{text:"\u7ea2\u7801",value:"\u7ea2\u7801"},{text:"\u7eff\u7801",value:"\u7eff\u7801"},{text:"\u9ec4\u7801",value:"\u9ec4\u7801"}],onFilter:function(e,t){return te(t.type)===e}},{title:"\u64cd\u4f5c",dataIndex:"studentId",key:"studentId",render:function(e){return Object(a.jsx)(a.Fragment,{children:r.role===B.SYSTEM_ADMIN&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(f.a,{type:"link",onClick:function(){return c(e)},children:"\u7f16\u8f91"}),Object(a.jsx)(Z.a,{title:"\u662f\u5426\u5220\u9664\u8be5\u5b66\u751f",onConfirm:function(){return n(e)},children:Object(a.jsx)(f.a,{type:"link",children:"\u5220\u9664"})})]})})}}];return Object(a.jsx)(ee.a,{loading:null==t,columns:i,rowKey:"studentId",dataSource:t})},ae=n(292),ce=n(305),re=function(e){var t=e.data;if(null==t)return Object(a.jsx)(a.Fragment,{});var n={autoFit:!1,data:[{type:"\u7eff\u7801",value:null===t||void 0===t?void 0:t.greenCodeStudentCount},{type:"\u9ec4\u7801",value:null===t||void 0===t?void 0:t.yellowCodeStudentCount},{type:"\u7ea2\u7801",value:null===t||void 0===t?void 0:t.redCodeStudentCount}],angleField:"value",colorField:"type",width:200,height:200,color:function(e){switch(e.type){case"\u7eff\u7801":return"green";case"\u9ec4\u7801":return"yellow";case"\u7ea2\u7801":return"red";default:return"grey"}}};return Object(a.jsx)(ce.a,Object(ae.a)({style:{marginLeft:"41%",display:"block"}},n))},ie=function(e){var t=e.visible,n=e.setVisible,r=e.onSuccess,i=e.updateStudentId,o=Object(c.useState)(),d=Object(s.a)(o,2),j=d[0],b=d[1],O=Object(c.useState)(""),f=Object(s.a)(O,2),x=f[0],p=f[1],m=Object(c.useState)(""),v=Object(s.a)(m,2),g=v[0],y=v[1],S=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/admin/updateStudent",{id:i,classId:j,name:x,idCard:g});case 2:n(!1),r();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(q.a,{visible:t,onCancel:function(){return n(!1)},title:"\u4fee\u6539\u5b66\u751f",onOk:function(){return S()},children:[Object(a.jsx)(H,{changeClass:function(e){return b(e)},style:{marginBottom:15,width:"100%"}}),Object(a.jsx)(h.a,{placeholder:"\u5b66\u53f7",disabled:!0,style:{marginBottom:15},value:i}),Object(a.jsx)(h.a,{placeholder:"\u59d3\u540d",style:{marginBottom:15},onChange:function(e){return p(e.target.value)},value:x}),Object(a.jsx)(h.a,{placeholder:"\u8eab\u4efd\u8bc1\u53f7",style:{marginBottom:15},onChange:function(e){return y(e.target.value)},value:g})]})},se=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!1),o=Object(s.a)(i,2),d=o[0],j=o[1],b=Object(c.useState)(),O=Object(s.a)(b,2),h=O[0],x=O[1],p=Object(c.useState)(),m=Object(s.a)(p,2),v=m[0],g=m[1],y=Object(M.h)(),S=y.collegeId,I=y.majorId,w=y.classId,E=Object(C.c)((function(e){return e.login})).user,N=Object(c.useState)(),A=Object(s.a)(N,2),T=A[0],D=A[1],L=Object(c.useState)(),_=Object(s.a)(L,2),Y=_[0],G=_[1],W=Object(c.useState)(),q=Object(s.a)(W,2),K=q[0],R=q[1],H=function(e,t,n){k.get("/admin/getStudentStatistic",{params:{collegeId:e,majorId:t,classId:n}}).then((function(e){return g((function(){return e.data}))}))};Object(c.useEffect)((function(){D(void 0),G(void 0),R(void 0),H(S,I,w),null!=w?k.get("/admin/getClass",{params:{id:w}}).then((function(e){return D((function(){return e.data}))})):null!=I?k.get("/admin/getMajor",{params:{id:I}}).then((function(e){return G((function(){return e.data}))})):null!=S&&k.get("/admin/getCollege",{params:{id:S}}).then((function(e){return R((function(){return e.data}))}))}),[S,I,w]);var z=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/admin/deleteStudent",{id:t});case 2:return e.next=4,H();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsx)(F.a,{title:"\u5b66\u751f\u7ba1\u7406"}),Object(a.jsxs)(V.a,{onBack:function(){return window.history.back()},ghost:!1,title:"\u5b66\u751f\u7ba1\u7406",subTitle:null!=T?"".concat(T.name):null!=Y?"".concat(Y.name):null!=K?"".concat(K.name):"",extra:[Object(a.jsx)(f.a,{onClick:function(){return r(!0)},type:"primary",hidden:E.role!==B.SYSTEM_ADMIN,children:"\u6dfb\u52a0\u65b0\u5b66\u751f"},3)],children:[Object(a.jsxs)(P.b,{children:[T&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(P.b.Item,{label:"\u73ed\u7ea7\u540d",children:[" ",T.name]}),Object(a.jsxs)(P.b.Item,{label:"\u4e13\u4e1a\u540d",children:[" ",T.major.name]}),Object(a.jsxs)(P.b.Item,{label:"\u5b66\u9662\u540d",children:[" ",T.major.college.name]})]}),Y&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(P.b.Item,{label:"\u4e13\u4e1a\u540d",children:[" ",Y.name]}),Object(a.jsxs)(P.b.Item,{label:"\u5b66\u9662\u540d",children:[" ",Y.college.name]})]}),K&&Object(a.jsxs)(P.b.Item,{label:"\u5b66\u9662\u540d",children:[" ",K.name]}),Object(a.jsx)(P.b.Item,{label:"\u5b66\u751f\u603b\u6570",children:null===v||void 0===v?void 0:v.totalStudentCount}),Object(a.jsx)(P.b.Item,{label:"\u7eff\u7801\u5b66\u751f\u6570\u91cf",children:null===v||void 0===v?void 0:v.greenCodeStudentCount}),Object(a.jsx)(P.b.Item,{label:"\u9ec4\u7801\u5b66\u751f\u6570\u91cf",children:null===v||void 0===v?void 0:v.yellowCodeStudentCount}),Object(a.jsx)(P.b.Item,{label:"\u7ea2\u7801\u5b66\u751f\u6570\u91cf",children:null===v||void 0===v?void 0:v.redCodeStudentCount})]}),Object(a.jsx)(re,{data:v})]}),Object(a.jsx)(ie,{updateStudentId:h,visible:d,setVisible:j,onSuccess:function(){return H()}}),Object(a.jsx)(Q,{visible:n,setVisible:r,onSuccess:function(){return H()}}),Object(a.jsx)(ne,{clickUpdate:function(e){return function(e){x(e),j(!0)}(e)},dataSource:null===v||void 0===v?void 0:v.dailyCardList,onDelete:function(e){return z(e)}})]})},oe=n(242),le=oe.a.Option,ue=function(e){var t=e.onChange,n=e.style,r=Object(c.useState)([]),i=Object(s.a)(r,2),o=i[0],l=i[1];return Object(c.useEffect)((function(){k.get("/admin/getAllCollege").then((function(e){return l(e.data)}))}),[]),Object(a.jsx)(oe.a,{placeholder:"\u5b66\u9662",style:n,onChange:function(e){return t(e)},children:o.map((function(e){return Object(a.jsx)(le,{value:e.id,children:e.name},e.id)}))})},de=W.a.TabPane,je=function(e){var t=e.visible,n=e.setVisible,r=e.onSuccess,i=Object(c.useState)(null),o=Object(s.a)(i,2),d=o[0],j=o[1],b=Object(c.useState)(),O=Object(s.a)(b,2),f=O[0],x=O[1],p=Object(c.useState)(),m=Object(s.a)(p,2),v=m[0],g=m[1],y=Object(c.useState)(),S=Object(s.a)(y,2),I=S[0],C=S[1],w=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/admin/insertTeacher",{teacherId:f,name:v,collegeId:d,idCard:I});case 2:g(""),C(""),r(),n(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(q.a,{title:"\u6dfb\u52a0\u65b0\u6559\u5e08",onCancel:function(){return n(!1)},visible:t,onOk:w,children:Object(a.jsxs)(W.a,{children:[Object(a.jsxs)(de,{tab:"\u624b\u52a8\u5bfc\u5165",children:[Object(a.jsx)(ue,{onChange:j,style:{marginBottom:15,width:"100%"}}),Object(a.jsx)(h.a,{placeholder:"\u5de5\u53f7",style:{marginBottom:15},onChange:function(e){return x(e.target.value)},value:f}),Object(a.jsx)(h.a,{placeholder:"\u59d3\u540d",style:{marginBottom:15},onChange:function(e){return g(e.target.value)},value:v}),Object(a.jsx)(h.a,{placeholder:"\u8eab\u4efd\u8bc1\u53f7",style:{marginBottom:15},onChange:function(e){return C(e.target.value)},value:I})]},"1"),Object(a.jsx)(de,{tab:"\u4ece excel \u4e2d\u5bfc\u5165",children:Object(a.jsx)(J,{url:"/admin/addTeacherFromExcel",onSuccess:function(){return n(!1)}})},"2")]})})},be=function(e){var t=e.dailyCardList,n=e.onDelete,c=e.clickUpdate,r=Object(C.c)((function(e){return e.login})).user,i=[{title:"\u5de5\u53f7",dataIndex:"teacherId",key:"teacherId"},{title:"\u59d3\u540d",dataIndex:"name",key:"name"},{title:"\u5b66\u9662",dataIndex:"collegeName",key:"collegeName"},{title:"\u4eca\u65e5\u6253\u5361\u60c5\u51b5",dataIndex:"hadSubmitDailyCard",key:"hadSubmitDailyCard",render:function(e){return e?"\u5df2\u6253\u5361":"\u672a\u6253\u5361"},filters:[{text:"\u5df2\u6253\u5361",value:!0},{text:"\u672a\u6253\u5361",value:!1}],onFilter:function(e,t){return t.hadSubmitDailyCard===e}},{title:"\u5065\u5eb7\u7801",dataIndex:"type",key:"type",render:function(e){return te(e)},filters:[{text:"\u7ea2\u7801",value:"\u7ea2\u7801"},{text:"\u7eff\u7801",value:"\u7eff\u7801"},{text:"\u9ec4\u7801",value:"\u9ec4\u7801"},{text:"\u672a\u586b\u62a5",value:"\u672a\u586b\u62a5"}],onFilter:function(e,t){return te(t.type)===e}},{title:"\u64cd\u4f5c",dataIndex:"teacherId",key:"teacherId",render:function(e){return Object(a.jsx)(a.Fragment,{children:r.role===B.SYSTEM_ADMIN&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(f.a,{type:"link",onClick:function(){return c(e)},children:"\u7f16\u8f91"}),Object(a.jsx)(Z.a,{title:"\u662f\u5426\u5220\u9664\u8be5\u6559\u5e08",onConfirm:function(){return n(e)},children:Object(a.jsx)(f.a,{type:"link",children:"\u5220\u9664"})})]})})}}];return Object(a.jsx)(ee.a,{loading:null==t,columns:i,rowKey:"teacherId",dataSource:t})},Oe=function(e){var t=e.data;if(null==t)return Object(a.jsx)(a.Fragment,{});var n={autoFit:!1,data:[{type:"\u7eff\u7801",value:null===t||void 0===t?void 0:t.greenCodeTeacherCount},{type:"\u9ec4\u7801",value:null===t||void 0===t?void 0:t.yellowCodeTeacherCount},{type:"\u7ea2\u7801",value:null===t||void 0===t?void 0:t.redCodeTeacherCount}],angleField:"value",colorField:"type",width:200,height:200,color:function(e){switch(e.type){case"\u7eff\u7801":return"green";case"\u9ec4\u7801":return"yellow";case"\u7ea2\u7801":return"red";default:return"grey"}}};return Object(a.jsx)(ce.a,Object(ae.a)({style:{paddingLeft:"41%",display:"block"}},n))},he=function(e){var t=e.visible,n=e.setVisible,r=e.onSuccess,i=e.teacherId,o=Object(c.useState)(null),d=Object(s.a)(o,2),j=d[0],b=d[1],O=Object(c.useState)(),f=Object(s.a)(O,2),x=f[0],p=f[1],m=Object(c.useState)(),v=Object(s.a)(m,2),g=v[0],y=v[1],S=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/admin/updateTeacher",{id:i,collegeId:j,name:x,idCard:g});case 2:n(!1),r();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(q.a,{title:"\u6dfb\u52a0\u65b0\u6559\u5e08",onCancel:function(){return n(!1)},visible:t,onOk:S,children:[Object(a.jsx)(ue,{onChange:b,style:{marginBottom:15,width:"100%"}}),Object(a.jsx)(h.a,{placeholder:"\u5de5\u53f7",style:{marginBottom:15},disabled:!0,value:i}),Object(a.jsx)(h.a,{placeholder:"\u59d3\u540d",style:{marginBottom:15},onChange:function(e){return p(e.target.value)},value:x}),Object(a.jsx)(h.a,{placeholder:"\u8eab\u4efd\u8bc1\u53f7",style:{marginBottom:15},onChange:function(e){return y(e.target.value)},value:g})]})},fe=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!1),o=Object(s.a)(i,2),d=o[0],j=o[1],b=Object(c.useState)(),O=Object(s.a)(b,2),h=O[0],x=O[1],p=Object(C.c)((function(e){return e.login})).user,m=Object(M.h)().collegeId,v=Object(c.useState)(),g=Object(s.a)(v,2),y=g[0],S=g[1],I=Object(c.useState)(),w=Object(s.a)(I,2),E=w[0],N=w[1],A=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/admin/getTeacherStatistic",{params:{collegeId:t}});case 2:n=e.sent,S((function(){return n.data}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){N(void 0),A(m),null!=m&&k.get("/admin/getCollege",{params:{id:m}}).then((function(e){return N(e.data)}))}),[m]);var T=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/admin/deleteTeacher",{id:t});case 2:return e.next=4,A();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsx)(F.a,{title:"\u6559\u5e08\u7ba1\u7406"}),Object(a.jsxs)(V.a,{onBack:function(){return window.history.back()},ghost:!1,title:"\u6559\u5e08\u7ba1\u7406",subTitle:null===E||void 0===E?void 0:E.name,extra:p.role===B.SYSTEM_ADMIN&&Object(a.jsx)(f.a,{onClick:function(){return r(!0)},type:"primary",children:"\u6dfb\u52a0\u65b0\u6559\u5e08"}),children:[Object(a.jsxs)(P.b,{children:[E&&Object(a.jsxs)(P.b.Item,{label:"\u5b66\u9662\u540d",children:[" ",E.name]}),Object(a.jsx)(P.b.Item,{label:"\u6559\u5e08\u603b\u6570",children:null===y||void 0===y?void 0:y.totalTeacherCount}),Object(a.jsx)(P.b.Item,{label:"\u7eff\u7801\u6559\u5e08\u6570\u91cf",children:null===y||void 0===y?void 0:y.greenCodeTeacherCount}),Object(a.jsx)(P.b.Item,{label:"\u9ec4\u7801\u6559\u5e08\u6570\u91cf",children:null===y||void 0===y?void 0:y.yellowCodeTeacherCount}),Object(a.jsx)(P.b.Item,{label:"\u7ea2\u7801\u6559\u5e08\u6570\u91cf",children:null===y||void 0===y?void 0:y.redCodeTeacherCount})]}),Object(a.jsx)(Oe,{data:y})]}),Object(a.jsx)(he,{visible:d,setVisible:j,onSuccess:function(){return A()},teacherId:h}),Object(a.jsx)(je,{visible:n,setVisible:r,onSuccess:function(){return A()}}),Object(a.jsx)(be,{clickUpdate:function(e){x(e),j(!0)},dailyCardList:null===y||void 0===y?void 0:y.dailyCardList,onDelete:function(e){return T(e)}})]})},xe=n(111),pe=function(e){var t=e.visible,n=e.setVisible,r=e.onSuccess,i=Object(c.useState)(""),o=Object(s.a)(i,2),d=o[0],j=o[1],b=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/admin/addCollege",{name:d});case 2:n(!1),r();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(q.a,{title:"\u6dfb\u52a0\u65b0\u5b66\u9662",onCancel:function(){return n(!1)},onOk:b,visible:t,children:Object(a.jsx)(h.a,{placeholder:"\u5b66\u9662\u540d",onChange:function(e){return j(e.target.value)},value:d})})},me=function(){var e=Object(C.c)((function(e){return e.login})).user,t=Object(c.useState)(!1),n=Object(s.a)(t,2),r=n[0],i=n[1],o=Object(c.useState)([]),l=Object(s.a)(o,2),u=l[0],d=l[1],j=Object(c.useState)(!1),b=Object(s.a)(j,2),O=b[0],h=b[1],x=function(){i(!0),k.get("/admin/getAllCollege").then((function(e){return d(e.data)})).finally((function(){return i(!1)}))};Object(c.useEffect)((function(){x()}),[]);var p=[{title:"\u5b66\u9662\u540d",dataIndex:"name",key:"name"},{title:"",dataIndex:"id",key:"id",render:function(e){return Object(a.jsx)(xe.b,{to:"/admin/college/".concat(e),children:"\u67e5\u770b\u6240\u6709\u4e13\u4e1a"})}},{title:"",dataIndex:"id",key:"id",render:function(e){return Object(a.jsx)(xe.b,{to:"/admin/student/".concat(e),children:"\u67e5\u770b\u8be5\u5b66\u9662\u6240\u6709\u5b66\u751f\u4fe1\u606f"})}},{title:"",dataIndex:"id",key:"id",render:function(e){return Object(a.jsx)(xe.b,{to:"/admin/teacher/".concat(e),children:"\u67e5\u770b\u8be5\u5b66\u9662\u6240\u6709\u6559\u5e08\u4fe1\u606f"})}},{title:"",dataIndex:"id",key:"id",render:function(t){return e.role===B.SYSTEM_ADMIN&&Object(a.jsx)(f.a,{type:"link",onClick:function(){return function(e){k.post("/admin/deleteCollege",{id:e}).then((function(){return x()}))}(t)},children:"\u5220\u9664"})}}];return Object(a.jsxs)("div",{children:[Object(a.jsx)(F.a,{title:"\u5b66\u9662\u7ba1\u7406"}),Object(a.jsx)(V.a,{ghost:!1,title:"\u5b66\u9662\u7ba1\u7406",extra:e.role===B.SYSTEM_ADMIN&&Object(a.jsx)(f.a,{type:"primary",onClick:function(){return h(!0)},children:"\u6dfb\u52a0\u65b0\u5b66\u9662"})}),Object(a.jsx)(ee.a,{loading:r,rowKey:"name",columns:p,dataSource:u}),Object(a.jsx)(pe,{visible:O,setVisible:h,onSuccess:function(){return x()}})]})},ve=function(e){var t=e.visible,n=e.setVisible,r=e.majorId,i=e.onSuccess,o=Object(c.useState)(""),d=Object(s.a)(o,2),j=d[0],b=d[1],O=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/admin/addClass",{name:j,majorId:r});case 2:n(!1),i();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(q.a,{title:"\u6dfb\u52a0\u65b0\u73ed\u7ea7",onCancel:function(){return n(!1)},onOk:O,visible:t,children:Object(a.jsx)(h.a,{placeholder:"\u73ed\u7ea7\u540d",onChange:function(e){return b(e.target.value)},value:j})})},ge=function(){var e=Object(C.c)((function(e){return e.login})).user,t=Object(c.useState)(!1),n=Object(s.a)(t,2),r=n[0],i=n[1],o=Object(c.useState)([]),l=Object(s.a)(o,2),u=l[0],d=l[1],j=Object(c.useState)(!1),b=Object(s.a)(j,2),O=b[0],h=b[1],x=Object(M.h)(),p=x.collegeId,m=x.majorId,v=function(e){i(!0),k.get("/admin/getAllClazzByMajor",{params:{majorId:e}}).then((function(e){return d(e.data)})).finally((function(){return i(!1)}))};Object(c.useEffect)((function(){v(Number(m))}),[m]);var g=[{title:"\u73ed\u7ea7\u540d",dataIndex:"name",key:"name"},{title:"",dataIndex:"id",key:"id",render:function(e){return Object(a.jsx)(xe.b,{to:"/admin/student/".concat(p,"/").concat(m,"/").concat(e),children:"\u67e5\u770b\u8be5\u73ed\u7ea7\u6240\u6709\u5b66\u751f\u4fe1\u606f"})}},{title:"",dataIndex:"id",key:"id",render:function(t){return e.role===B.SYSTEM_ADMIN&&Object(a.jsx)(f.a,{type:"link",onClick:function(){return function(e){k.post("/admin/deleteClass",{id:e}).then((function(){return v(Number(m))}))}(t)},children:"\u5220\u9664"})}}];return Object(a.jsxs)("div",{children:[Object(a.jsx)(F.a,{title:"\u73ed\u7ea7\u7ba1\u7406"}),Object(a.jsx)(V.a,{onBack:function(){return window.history.back()},ghost:!1,title:"\u73ed\u7ea7\u7ba1\u7406",extra:e.role===B.SYSTEM_ADMIN&&Object(a.jsx)(f.a,{type:"primary",onClick:function(){return h(!0)},children:"\u6dfb\u52a0\u65b0\u73ed\u7ea7"})}),Object(a.jsx)(ve,{visible:O,setVisible:h,majorId:Number(m),onSuccess:function(){return v(Number(m))}}),Object(a.jsx)(ee.a,{loading:r,rowKey:"name",columns:g,dataSource:u})]})},ye=function(e){var t=e.visible,n=e.setVisible,r=e.collegeId,i=e.onSuccess,o=Object(c.useState)(""),d=Object(s.a)(o,2),j=d[0],b=d[1],O=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/admin/addMajor",{name:j,collegeId:r});case 2:n(!1),i();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(q.a,{title:"\u6dfb\u52a0\u65b0\u4e13\u4e1a",onCancel:function(){return n(!1)},onOk:O,visible:t,children:Object(a.jsx)(h.a,{placeholder:"\u4e13\u4e1a\u540d",onChange:function(e){return b(e.target.value)},value:j})})},Se=function(){var e=Object(C.c)((function(e){return e.login})).user,t=Object(c.useState)(!1),n=Object(s.a)(t,2),r=n[0],i=n[1],o=Object(c.useState)(!1),l=Object(s.a)(o,2),u=l[0],d=l[1],j=Object(c.useState)([]),b=Object(s.a)(j,2),O=b[0],h=b[1],x=Object(M.h)().collegeId,p=function(e){i(!0),k.get("/admin/getMajorByCollegeId",{params:{collegeId:e}}).then((function(e){return h(e.data)})).finally((function(){return i(!1)}))};Object(c.useEffect)((function(){p(Number(x))}),[x]);var m=[{title:"\u4e13\u4e1a\u540d",dataIndex:"name",key:"name"},{title:"",dataIndex:"id",key:"id",render:function(e){return Object(a.jsx)(xe.b,{to:"/admin/college/".concat(x,"/major/").concat(e),children:"\u67e5\u770b\u6240\u6709\u73ed\u7ea7"})}},{title:"",dataIndex:"id",key:"id",render:function(e){return Object(a.jsx)(xe.b,{to:"/admin/student/".concat(x,"/").concat(e),children:"\u67e5\u770b\u8be5\u4e13\u4e1a\u6240\u6709\u5b66\u751f\u4fe1\u606f"})}},{title:"",dataIndex:"id",key:"id",render:function(t){return e.role===B.SYSTEM_ADMIN&&Object(a.jsx)(f.a,{type:"link",onClick:function(){return function(e){k.post("/admin/deleteMajor",{id:e}).then((function(){return p(Number(x))}))}(t)},children:"\u5220\u9664"})}}];return Object(a.jsxs)("div",{children:[Object(a.jsx)(F.a,{title:"\u4e13\u4e1a\u7ba1\u7406"}),Object(a.jsx)(V.a,{onBack:function(){return window.history.back()},ghost:!1,title:"\u4e13\u4e1a\u7ba1\u7406",extra:e.role===B.SYSTEM_ADMIN&&Object(a.jsx)(f.a,{type:"primary",onClick:function(){return d(!0)},children:"\u6dfb\u52a0\u65b0\u4e13\u4e1a"})}),Object(a.jsx)(ye,{visible:u,setVisible:d,collegeId:Number(x),onSuccess:function(){return p(Number(x))}}),Object(a.jsx)(ee.a,{loading:r,rowKey:"name",columns:m,dataSource:O})]})},Ie=n(143),ke=n(931),Ce=n(932),we=n(933),Ee=n(934),Ne=G.a.Sider,Me=function(){var e=Object(C.c)((function(e){return e.login})).user,t=Object(M.g)(),n=Object(C.b)(),c=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/logout");case 2:n(N()),t.push("/");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(Ne,{collapsible:!0,className:"site-layout-background",children:[Object(a.jsx)("div",{className:"logo"}),Object(a.jsxs)(Ie.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline",children:[Object(a.jsxs)(Ie.a.Item,{disabled:!0,children:[e.role===B.SYSTEM_ADMIN&&"\u7cfb\u7edf\u7ba1\u7406\u5458",e.role===B.SCHOOL_ADMIN&&"\u6821\u7ea7\u7ba1\u7406\u5458",e.role===B.COLLEGE_ADMIN&&"\u9662\u7ea7\u7ba1\u7406\u5458"]},"0"),Object(a.jsx)(Ie.a.Item,{icon:Object(a.jsx)(ke.a,{}),onClick:function(){return t.push("/admin/student")},children:"\u5b66\u751f\u7ba1\u7406"},"1"),Object(a.jsx)(Ie.a.Item,{icon:Object(a.jsx)(x.a,{}),onClick:function(){return t.push("/admin/teacher")},children:"\u6559\u5e08\u7ba1\u7406"},"2"),Object(a.jsx)(Ie.a.Item,{icon:Object(a.jsx)(Ce.a,{}),onClick:function(){return t.push("/admin/college")},children:"\u5b66\u9662\u7ba1\u7406"},"3"),e.role===B.SYSTEM_ADMIN&&Object(a.jsx)(Ie.a.Item,{icon:Object(a.jsx)(we.a,{}),onClick:function(){return t.push("/admin/admin")},children:"\u7ba1\u7406\u5458\u7ba1\u7406"},"4"),Object(a.jsx)(Ie.a.Item,{icon:Object(a.jsx)(Ee.a,{}),onClick:c,children:"\u767b\u51fa"},"5")]})]})},Ae=oe.a.Option,Te=function(e){var t=e.visible,n=e.setVisible,r=e.onSuccess,i=Object(c.useState)([]),o=Object(s.a)(i,2),d=o[0],j=o[1],b=Object(c.useState)(""),O=Object(s.a)(b,2),f=O[0],x=O[1],p=Object(c.useState)(""),m=Object(s.a)(p,2),v=m[0],g=m[1],y=Object(c.useState)(B.SYSTEM_ADMIN),S=Object(s.a)(y,2),I=S[0],C=S[1],w=Object(c.useState)(),E=Object(s.a)(w,2),N=E[0],M=E[1],A=Object(c.useState)(!0),T=Object(s.a)(A,2),D=T[0],L=T[1];Object(c.useEffect)((function(){k.get("/admin/getAllCollege").then((function(e){return j(e.data)}))}),[]);var _=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/admin/addAdmin",{name:f,password:v,type:I,collegeId:N});case 2:n(!1),r();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(q.a,{title:"\u6dfb\u52a0\u7ba1\u7406\u5458",visible:t,onCancel:function(){return n(!1)},onOk:function(){return _()},children:[Object(a.jsx)(h.a,{placeholder:"\u7ba1\u7406\u5458\u540d\u79f0",value:f,onChange:function(e){return x(e.target.value)}}),Object(a.jsx)(h.a,{type:"password",placeholder:"\u7ba1\u7406\u5458\u5bc6\u7801",value:v,onChange:function(e){return g(e.target.value)}}),Object(a.jsxs)(oe.a,{style:{display:"block"},value:I,onChange:function(e){C(e),e===B.COLLEGE_ADMIN?L(!1):L(!0)},children:[Object(a.jsx)(oe.a.Option,{value:B.SYSTEM_ADMIN,children:"\u7cfb\u7edf\u7ba1\u7406\u5458"}),Object(a.jsx)(oe.a.Option,{value:B.SCHOOL_ADMIN,children:"\u6821\u7ea7\u7ba1\u7406\u5458"}),Object(a.jsx)(oe.a.Option,{value:B.COLLEGE_ADMIN,children:"\u9662\u7ea7\u7ba1\u7406\u5458"})]}),!D&&Object(a.jsx)(oe.a,{style:{display:"block"},value:N,onChange:M,children:d.map((function(e){return Object(a.jsx)(Ae,{value:e.id,children:e.name},e.id)}))})]})},De=function(){var e=Object(C.c)((function(e){return e.login})).user,t=Object(c.useState)(!1),n=Object(s.a)(t,2),r=n[0],i=n[1],o=Object(c.useState)([]),l=Object(s.a)(o,2),u=l[0],d=l[1],j=function(){k.get("/admin/getAllAdmin").then((function(e){return d(e.data)}))};Object(c.useEffect)((function(){j()}),[]);var b=[{title:"\u540d\u79f0",dataIndex:"username",key:"username"},{title:"\u8eab\u4efd",dataIndex:"role",key:"role",render:function(e){switch(e){case B.COLLEGE_ADMIN:return"\u9662\u7ea7\u7ba1\u7406\u5458";case B.SCHOOL_ADMIN:return"\u6821\u7ea7\u7ba1\u7406\u5458";case B.SYSTEM_ADMIN:return"\u7cfb\u7edf\u7ba1\u7406\u5458"}}},{title:"\u5b66\u9662",dataIndex:"college",key:"college",render:function(e){return null===e||void 0===e?void 0:e.name}},{title:"",dataIndex:"id",key:"id",render:function(t){return t===e.id?null:Object(a.jsx)(f.a,{type:"link",onClick:function(){return function(e){k.post("/admin/deleteAdmin",{id:e}).then((function(){return j()}))}(t)},children:"\u5220\u9664"})}}];return Object(a.jsxs)("div",{children:[Object(a.jsx)(F.a,{title:"\u7ba1\u7406\u5458\u7ba1\u7406"}),Object(a.jsx)(V.a,{ghost:!1,title:"\u7ba1\u7406\u5458\u7ba1\u7406",extra:e.role===B.SYSTEM_ADMIN&&Object(a.jsx)(f.a,{type:"primary",onClick:function(){return i(!0)},children:"\u6dfb\u52a0\u65b0\u7ba1\u7406\u5458"})}),Object(a.jsx)(Te,{visible:r,setVisible:i,onSuccess:function(){return j()}}),Object(a.jsx)(ee.a,{rowKey:"username",dataSource:u,columns:b})]})},Le=G.a.Content,Be=function(){var e=Object(C.c)((function(e){return e.login}));return e.login?"teacher"===e.type?Object(a.jsx)(M.a,{to:"/teacher"}):"student"===e.type?Object(a.jsx)(M.a,{to:"/student"}):Object(a.jsxs)("div",{children:[Object(a.jsx)(F.a,{title:"\u7ba1\u7406\u5458\u754c\u9762"}),Object(a.jsxs)(G.a,{style:{minHeight:"100vh"},children:[Object(a.jsx)(Me,{}),Object(a.jsx)(G.a,{className:"site-layout",children:Object(a.jsx)(Le,{children:Object(a.jsx)("div",{className:"site-layout-background",style:{padding:24,minHeight:360},children:Object(a.jsxs)(M.d,{children:[Object(a.jsx)(M.b,{path:"/admin/admin",exact:!0,component:De}),Object(a.jsx)(M.b,{path:"/admin/student",exact:!0,component:se}),Object(a.jsx)(M.b,{path:"/admin/student/:collegeId",exact:!0,component:se}),Object(a.jsx)(M.b,{path:"/admin/student/:collegeId/:majorId",exact:!0,component:se}),Object(a.jsx)(M.b,{path:"/admin/student/:collegeId/:majorId/:classId",exact:!0,component:se}),Object(a.jsx)(M.b,{path:"/admin/teacher",exact:!0,component:fe}),Object(a.jsx)(M.b,{path:"/admin/teacher/:collegeId",exact:!0,component:fe}),Object(a.jsx)(M.b,{path:"/admin/college",exact:!0,component:me}),Object(a.jsx)(M.b,{path:"/admin/college/:collegeId",exact:!0,component:Se}),Object(a.jsx)(M.b,{path:"/admin/college/:collegeId/major/:majorId",exact:!0,component:ge})]})})})})]})]}):Object(a.jsx)(M.a,{to:"/"})},_e=n(916),Fe=n(243),Ye=function(e){var t=e.onFinish,n=e.user,c=e.isStudent,r={display:"block",height:"30px",lineHeight:"30px"};return Object(a.jsx)("div",{children:Object(a.jsxs)(d.a,{onFinish:function(e){var n=e.haveBeenToKeyEpidemicAreas,a=e.haveBeenAbroad,c=e.isTheExposed,r=e.isSuspectedCase,i=e.currentSymptoms;t(n,a,c,r,i)},style:{marginTop:30},children:[Object(a.jsx)(d.a.Item,{label:c?"\u5b66\u53f7":"\u5de5\u53f7",style:{display:"block"},children:Object(a.jsx)(h.a,{value:n.id,disabled:!0})}),Object(a.jsx)(d.a.Item,{label:"\u59d3\u540d",style:{display:"block"},children:Object(a.jsx)(h.a,{value:n.name,disabled:!0})}),Object(a.jsx)(d.a.Item,{label:"\u8eab\u4efd\u8bc1\u53f7",style:{display:"block"},children:Object(a.jsx)(h.a,{value:n.idCard,disabled:!0})}),Object(a.jsx)(d.a.Item,{style:{display:"block"},name:"haveBeenToKeyEpidemicAreas",label:"\u8fd1\u671f\uff0814\u5929\u5185\uff09\u53bb\u8fc7\u6e56\u5317\u7701\u6216\u91cd\u70b9\u75ab\u533a",rules:[{required:!0,message:"\u672a\u9009\u62e9\u6b64\u9879"}],children:Object(a.jsxs)(j.a.Group,{children:[Object(a.jsx)(j.a,{value:"true",style:r,children:"\u662f"}),Object(a.jsx)(j.a,{value:"false",style:r,children:"\u5426"})]})}),Object(a.jsx)(_e.a,{}),Object(a.jsx)(d.a.Item,{name:"haveBeenAbroad",label:"\u8fd1\u671f\uff0814\u5929\u5185\uff09\u53bb\u8fc7\u56fd\u5916",style:{display:"block"},rules:[{required:!0,message:"\u672a\u9009\u62e9\u6b64\u9879"}],children:Object(a.jsxs)(j.a.Group,{children:[Object(a.jsx)(j.a,{value:"true",style:r,children:"\u662f"}),Object(a.jsx)(j.a,{value:"false",style:r,children:"\u5426"})]})}),Object(a.jsx)(_e.a,{}),Object(a.jsx)(d.a.Item,{name:"isTheExposed",label:"\u8fd1\u671f\uff0814\u5929\u5185\uff09\u63a5\u89e6\u8fc7\u65b0\u51a0\u786e\u8bca\u75c5\u4eba\u6216\u7591\u4f3c\u75c5\u4eba",style:{display:"block"},rules:[{required:!0,message:"\u672a\u9009\u62e9\u6b64\u9879"}],children:Object(a.jsxs)(j.a.Group,{children:[Object(a.jsx)(j.a,{value:"true",style:r,children:"\u662f"}),Object(a.jsx)(j.a,{value:"false",style:r,children:"\u5426"})]})}),Object(a.jsx)(_e.a,{}),Object(a.jsx)(d.a.Item,{name:"isSuspectedCase",label:"\u88ab\u536b\u751f\u90e8\u95e8\u786e\u8ba4\u4e3a\u65b0\u51a0\u80ba\u708e\u786e\u8bca\u75c5\u4f8b\u6216\u7591\u4f3c\u75c5\u4f8b",style:{display:"block"},rules:[{required:!0,message:"\u672a\u9009\u62e9\u6b64\u9879"}],children:Object(a.jsxs)(j.a.Group,{children:[Object(a.jsx)(j.a,{value:"true",style:r,children:"\u662f"}),Object(a.jsx)(j.a,{value:"false",style:r,children:"\u5426"})]})}),Object(a.jsx)(_e.a,{}),Object(a.jsx)(d.a.Item,{name:"currentSymptoms",style:{display:"block"},label:"\u8eab\u4f53\u5065\u5eb7\u60c5\u51b5",children:Object(a.jsx)(Fe.a.Group,{children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)(O.a,{span:8,children:Object(a.jsx)(Fe.a,{value:"\u53d1\u70e7",children:"\u53d1\u70e7\uff08\u226537.3\u2103\uff09"})}),Object(a.jsx)(O.a,{span:8,children:Object(a.jsx)(Fe.a,{value:"\u4e4f\u529b",children:"\u4e4f\u529b"})}),Object(a.jsx)(O.a,{span:8,children:Object(a.jsx)(Fe.a,{value:"\u5e72\u54b3",children:"\u5e72\u54b3"})}),Object(a.jsx)(O.a,{span:8,children:Object(a.jsx)(Fe.a,{value:"\u9f3b\u585e",children:"\u9f3b\u585e"})}),Object(a.jsx)(O.a,{span:8,children:Object(a.jsx)(Fe.a,{value:"\u6d41\u6d95",children:"\u6d41\u6d95"})}),Object(a.jsx)(O.a,{span:8,children:Object(a.jsx)(Fe.a,{value:"\u54bd\u75db",children:"\u54bd\u75db"})}),Object(a.jsx)(O.a,{span:8,children:Object(a.jsx)(Fe.a,{value:"\u8179\u6cfb",children:"\u8179\u6cfb"})})]})})}),Object(a.jsx)(_e.a,{}),Object(a.jsx)(d.a.Item,{name:"check",rules:[{required:!0,message:"\u672a\u52fe\u9009\u6b64\u9879"},function(){return{validator:function(e,t){return t?Promise.resolve():Promise.reject("\u8bf7\u52fe\u9009\u6b64\u9879")}}}],children:Object(a.jsx)(Fe.a.Group,{children:Object(a.jsx)(Fe.a,{value:"true",children:"\u672c\u4eba\u90d1\u91cd\u627f\u8bfa\uff1a\u586b\u62a5\u4fe1\u606f\u771f\u5b9e\uff0c\u613f\u610f\u627f\u62c5\u76f8\u5e94\u7684\u6cd5\u5f8b\u8d23\u4efb\u3002"})})}),Object(a.jsx)(d.a.Item,{children:Object(a.jsx)(f.a,{type:"primary",htmlType:"submit",children:"\u63d0\u4ea4"})})]})})},Ge=n(922),Ve=n(920),Pe=function(){var e=Object(C.c)((function(e){return e.login})),t=e.user;return Object(a.jsxs)("div",{style:{display:"block",textAlign:"center"},children:[Object(a.jsxs)("h2",{children:[t.name," \u4f60\u597d"]}),Object(a.jsx)("h2",{children:"\u8bf7\u5728\u63a5\u53d7\u68c0\u67e5\u65f6\u4e3b\u52a8\u51fa\u793a\u5de5\u5927\u901a\u884c\u7801"}),Object(a.jsx)("h2",{children:"\u914d\u5408\u7ba1\u7406\u5458\u7684\u5de5\u4f5c\uff0c\u505a\u597d\u81ea\u4e3b\u9632\u62a4\u5de5\u4f5c"}),Object(a.jsx)("h2",{children:"\u4f60\u7684\u5065\u5eb7\u7801\u72b6\u6001\u5c06\u6839\u636e\u4f60\u7684\u7533\u62a5\u52a8\u6001\u5237\u65b0"}),Object(a.jsx)(Ve.a,{preview:!1,src:"student"===e.type?"/student/qrcode":"/teacher/qrcode",alt:"\u5065\u5eb7\u7801"})]})},We=n(927),qe=n(540);function Ke(){var e=Object(T.a)(["\n  margin-top: 10px;\n  float: right;\n"]);return Ke=function(){return e},e}function Re(){var e=Object(T.a)(["\n  margin-top: 15px;\n  margin-left: 30%;\n  float: left;\n"]);return Re=function(){return e},e}function He(){var e=Object(T.a)(["\n  margin-top: 10px;\n  margin-right: 30%;\n  float: right;\n"]);return He=function(){return e},e}function ze(){var e=Object(T.a)(["\n  z-index: 1;\n  position: relative;\n  color: white;\n  background: white;\n  height: 56px;\n  border-bottom: 1px solid #f0f0f0;\n"]);return ze=function(){return e},e}var Ue=D.a.div(ze()),Je=Object(D.a)(f.a)(He()),$e=Object(D.a)(qe.a)(Re()),Qe=Object(D.a)(f.a)(Ke()),Xe=function(e){var t=e.url,n=Object(c.useState)(!1),r=Object(s.a)(n,2),i=r[0],o=r[1],d=Object(c.useState)(""),j=Object(s.a)(d,2),b=j[0],O=j[1],f=Object(c.useState)(""),x=Object(s.a)(f,2),p=x[0],m=x[1],v=Object(C.c)((function(e){return e.login})),g=Object(C.b)(),y=Object(M.g)(),S=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/logout");case 2:g(N()),y.push("/");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(We.a,{children:Object(a.jsxs)(Ue,{children:["name"in v.user&&Object(a.jsx)($e,{children:v.user.name}),"username"in v.user&&Object(a.jsx)($e,{children:v.user.username}),Object(a.jsx)(Je,{onClick:S,type:"primary",children:"\u767b\u51fa"}),Object(a.jsx)(Qe,{type:"link",onClick:function(){return o(!0)},children:"\u4fee\u6539\u5bc6\u7801"}),Object(a.jsxs)(q.a,{title:"\u4fee\u6539\u5bc6\u7801",visible:i,onCancel:function(){return o(!1)},onOk:function(){k.post(t,{oldPassword:p,newPassword:b}).then((function(){return o(!1)}))},children:[Object(a.jsx)(h.a,{style:{marginBottom:15},placeholder:"\u8bf7\u8f93\u5165\u65e7\u5bc6\u7801",value:p,onChange:function(e){return m(e.target.value)},type:"password"}),Object(a.jsx)(h.a,{placeholder:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801",value:b,onChange:function(e){return O(e.target.value)},type:"password"})]})]})})},Ze=function(){var e=Object(C.c)((function(e){return e.login})),t=Object(c.useState)(!1),n=Object(s.a)(t,2),r=n[0],i=n[1],o=Object(c.useState)(!0),d=Object(s.a)(o,2),j=d[0],b=d[1];if(Object(c.useEffect)((function(){k.get("/student/cardStatus").then((function(e){return i(e.data)})).finally((function(){return b(!1)}))}),[]),!e.login)return Object(a.jsx)(M.a,{to:"/"});if("teacher"===e.type)return Object(a.jsx)(M.a,{to:"/teacher"});if("student"!==e.type)return Object(a.jsx)(M.a,{to:"/admin"});var O=function(){var e=Object(u.a)(l.a.mark((function e(t,n,a,c,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.post("/student/submit",{haveBeenToKeyEpidemicAreas:t,haveBeenAbroad:n,isTheExposed:a,isSuspectedCase:c,currentSymptoms:r}).then((function(){return i(!0)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,c,r){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsx)(F.a,{title:r?"\u5065\u5eb7\u7801":"\u6bcf\u65e5\u4e00\u62a5"}),Object(a.jsx)(Xe,{url:"/student/changePassword"}),Object(a.jsxs)("div",{style:{marginLeft:"30%",marginRight:"30%",marginTop:30},children:[j&&Object(a.jsx)(Ge.a,{active:!0}),!j&&r&&Object(a.jsx)(Pe,{}),!j&&!r&&Object(a.jsx)(Ye,{onFinish:O,isStudent:!0,user:e.user})]})]})},et=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(C.c)((function(e){return e.login})),o=Object(c.useState)(!0),d=Object(s.a)(o,2),j=d[0],b=d[1];if(Object(c.useEffect)((function(){k.get("/teacher/cardStatus").then((function(e){return r(e.data)})).finally((function(){return b(!1)}))}),[]),!i.login)return Object(a.jsx)(M.a,{to:"/"});if("student"===i.type)return Object(a.jsx)(M.a,{to:"/student"});if("teacher"!==i.type)return Object(a.jsx)(M.a,{to:"/admin"});var O=function(){var e=Object(u.a)(l.a.mark((function e(t,n,a,c,i){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.post("/teacher/submit",{haveBeenToKeyEpidemicAreas:t,haveBeenAbroad:n,isTheExposed:a,isSuspectedCase:c,currentSymptoms:i}).then((function(){return r(!0)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,c,r){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsx)(F.a,{title:n?"\u5065\u5eb7\u7801":"\u6bcf\u65e5\u4e00\u62a5"}),Object(a.jsx)(Xe,{url:"/teacher/changePassword"}),Object(a.jsxs)("div",{style:{marginLeft:"30%",marginRight:"30%",marginTop:30},children:[j&&Object(a.jsx)(Ge.a,{active:!0}),!j&&n&&Object(a.jsx)(Pe,{}),!j&&!n&&Object(a.jsx)(Ye,{onFinish:O,user:i.user,isStudent:!1})]})]})},tt=n(523);var nt=function(){var e=Object(C.b)(),t=Object(c.useState)(!0),n=Object(s.a)(t,2),r=n[0],i=n[1];return Object(c.useEffect)((function(){i(!0),k.get("/checkLoginStatus").then((function(t){return e(N(t.data))})).finally((function(){return i(!1)}))}),[e]),Object(a.jsxs)(a.Fragment,{children:[r&&Object(a.jsx)("div",{style:{width:"100%",height:"100%",textAlign:"center",marginTop:"20%"},children:Object(a.jsx)(tt.a,{size:"large"})}),!r&&Object(a.jsxs)(M.d,{children:[Object(a.jsx)(M.b,{path:"/",exact:!0,component:Y}),Object(a.jsx)(M.b,{path:"/teacher",component:et}),Object(a.jsx)(M.b,{path:"/admin",component:Be}),Object(a.jsx)(M.b,{path:"/student",component:Ze})]})]})},at=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,935)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},ct=n(177),rt=n(534),it=n(535),st=Object(ct.combineReducers)({login:E}),ot=Object(ct.createStore)(st,Object(rt.composeWithDevTools)(Object(ct.applyMiddleware)(it.a))),lt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ut(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var dt=n(26),jt=n(536),bt=n.n(jt);i.a.render(Object(a.jsx)(C.a,{store:ot,children:Object(a.jsx)(dt.b,{locale:bt.a,children:Object(a.jsx)(xe.a,{children:Object(a.jsx)(nt,{})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");lt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ut(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):ut(t,e)}))}}(),at()}},[[906,1,2]]]);
//# sourceMappingURL=main.81186b2d.chunk.js.map