(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{232:function(e,t,n){},393:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n(0),r=n(33),i=n.n(r),s=(n(232),n(36)),o=n.n(s),l=n(48),u=n(399),d=n(138),j=n(216),b=n(52),h=n(405),O=n(406),m=n(186),p=n.n(m),x=n(223),f=n(187),v=n.n(f),g=p.a.create({headers:{"Content-Type":"application/x-www-form-urlencoded"}});g.interceptors.request.use((function(e){return e.data=v.a.stringify(e.data),e})),g.interceptors.response.use((function(e){return e}),(function(e){var t=e;return null!=t.response&&x.b.warn(t.response.data.message),Promise.reject(e)}));var y,I=g,w=n(41),k="set_login_status",C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return e=t.data;default:return e}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){t({type:k,data:e})}},E=n(12),T=function(){var e=Object(w.c)((function(e){return e.login})),t=Object(w.b)();if(Object(c.useEffect)((function(){I.get("/checkLoginStatus").then((function(e){return t(S(e.data))}))}),[t]),null!=e&&e.login)switch(e.type){case"teacher":return Object(a.jsx)(E.a,{to:"/teacher"});case"student":return Object(a.jsx)(E.a,{to:"/student"});default:return Object(a.jsx)(E.a,{to:"/admin"})}var n=function(){var e=Object(l.a)(o.a.mark((function e(n){var a,c,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=n.username,c=n.password,r=n.type,e.next=6,I.post("/login",{type:r,username:a,password:c});case 6:i=e.sent,t(S(i.data)),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{children:Object(a.jsxs)(u.a,{style:{marginLeft:"30%",marginRight:"30%",marginTop:30},onFinish:n,children:[Object(a.jsx)(u.a.Item,{name:"type",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7528\u6237\u7c7b\u578b"}],children:Object(a.jsxs)(d.a.Group,{children:[Object(a.jsx)(d.a,{value:"student",children:"\u5b66\u751f"}),Object(a.jsx)(d.a,{value:"teacher",children:"\u6559\u5e08"}),Object(a.jsx)(d.a,{value:"admin",children:"\u7ba1\u7406\u5458"})]})}),Object(a.jsx)(u.a.Item,{name:"username",rules:[{required:!0,message:"\u8bf7\u586b\u5199\u7528\u6237\u540d"}],children:Object(a.jsx)(j.a,{prefix:Object(a.jsx)(h.a,{className:"site-form-item-icon"}),autoComplete:"username",placeholder:"\u7528\u6237\u540d"})}),Object(a.jsx)(u.a.Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u586b\u5199\u5bc6\u7801"}],children:Object(a.jsx)(j.a,{prefix:Object(a.jsx)(O.a,{className:"site-form-item-icon"}),placeholder:"\u5bc6\u7801",autoComplete:"current-password",type:"password"})}),Object(a.jsx)(u.a.Item,{children:Object(a.jsx)(b.a,{type:"primary",htmlType:"submit",children:"\u767b\u5f55"})})]})})},L=n(395),A=n(69),N=n(31),B=n(400),R=n(404),W=n(398);!function(e){e.GREEN="GREEN",e.YELLOW="YELLOW",e.RED="RED"}(y||(y={}));var F=n(218),G=n(402),q=n(403),D=function(e){var t=e.visible,n=e.setVisible,r=Object(c.useState)([]),i=Object(N.a)(r,2),s=i[0],u=i[1],d=Object(c.useState)(null),b=Object(N.a)(d,2),h=b[0],O=b[1],m=Object(c.useState)(""),p=Object(N.a)(m,2),x=p[0],f=p[1],v=Object(c.useState)(""),g=Object(N.a)(v,2),y=g[0],w=g[1],k=Object(c.useState)(""),C=Object(N.a)(k,2),S=C[0],E=C[1],T=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post("/admin/insertStudent",{id:x,name:y,classId:h,idCard:S});case 2:n(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){I.get("/admin/getAllCollege").then((function(e){return u(e.data.map((function(e){return{value:e.id,label:e.name,isLeaf:!1,type:"college"}})))}))}),[]);var L=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:console.log(t),(n=t[t.length-1]).loading=!0,e.prev=5,n.id=n.value,e.t0=n.type,e.next="college"===e.t0?10:"major"===e.t0?15:20;break;case 10:return e.next=12,I.get("/admin/getMajorByCollegeId",{params:{collegeId:n.value}});case 12:return a=e.sent,n.children=a.data.map((function(e){return{value:e.id,label:e.name,isLeaf:!1,type:"major"}})),e.abrupt("break",20);case 15:return e.next=17,I.get("/admin/getAllClazzByMajor",{params:{majorId:n.value}});case 17:return c=e.sent,n.children=c.data.map((function(e){return{value:e.id,label:e.name,isLeaf:!0,type:"class"}})),e.abrupt("break",20);case 20:u(Object(F.a)(s)),e.next=25;break;case 23:e.prev=23,e.t1=e.catch(5);case 25:return e.prev=25,n.loading=!1,e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[5,23,25,28]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)(G.a,{title:"\u6dfb\u52a0\u65b0\u5b66\u751f",onCancel:function(){return n(!1)},visible:t,onOk:T,children:[Object(a.jsx)(q.a,{options:s,loadData:L,changeOnSelect:!0,placeholder:"\u8bf7\u9009\u62e9\u73ed\u7ea7",onChange:function(e,t){3===e.length&&null!=t?O(t[2].value):O(null)},style:{width:"100%"}}),Object(a.jsx)(j.a,{placeholder:"\u5b66\u53f7",onChange:function(e){return f(e.target.value)},value:x}),Object(a.jsx)(j.a,{placeholder:"\u59d3\u540d",onChange:function(e){return w(e.target.value)},value:y}),Object(a.jsx)(j.a,{placeholder:"\u8eab\u4efd\u8bc1\u53f7",onChange:function(e){return E(e.target.value)},value:S})]})},K=function(){var e=Object(c.useState)(!1),t=Object(N.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(),s=Object(N.a)(i,2),o=s[0],l=s[1],u=Object(E.h)(),d=u.collegeId,j=u.majorId,h=u.classId,O=Object(w.c)((function(e){return e.login})),m=[{title:"\u5b66\u53f7",dataIndex:"studentId",key:"studentId"},{title:"\u59d3\u540d",dataIndex:"name",key:"name"},{title:"\u5b66\u9662",dataIndex:"className",key:"className"},{title:"\u4e13\u4e1a",dataIndex:"majorName",key:"majorName"},{title:"\u73ed\u7ea7",dataIndex:"collegeName",key:"collegeName"},{title:"\u5065\u5eb7\u7801",dataIndex:"type",key:"type",render:function(e){switch(e){case y.GREEN:return"\u7eff\u7801";case y.RED:return"\u7ea2\u7801";case y.YELLOW:return"\u9ec4\u7801"}}}];return Object(c.useEffect)((function(){I.get("/admin/getStudentStatistic",{params:{collegeId:d,majorId:j,classId:h}}).then((function(e){return l(e.data)}))}),[d,j,h]),Object(a.jsxs)("div",{children:[Object(a.jsx)(B.a,{onBack:function(){return window.history.back()},ghost:!1,title:"\u5b66\u751f\u7ba1\u7406",extra:"systemAdmin"===O.type&&Object(a.jsx)(b.a,{onClick:function(){return r(!0)},type:"primary",children:"\u6dfb\u52a0\u65b0\u5b66\u751f"}),children:Object(a.jsxs)(R.b,{children:[Object(a.jsx)(R.b.Item,{label:"\u5b66\u751f\u603b\u6570",children:null===o||void 0===o?void 0:o.totalStudentCount}),Object(a.jsx)(R.b.Item,{label:"\u7eff\u7801\u5b66\u751f\u6570\u91cf",children:null===o||void 0===o?void 0:o.greenCodeStudentCount}),Object(a.jsx)(R.b.Item,{label:"\u9ec4\u7801\u5b66\u751f\u6570\u91cf",children:null===o||void 0===o?void 0:o.yellowCodeStudentCount}),Object(a.jsx)(R.b.Item,{label:"\u7ea2\u7801\u5b66\u751f\u6570\u91cf",children:null===o||void 0===o?void 0:o.redCodeStudentCount})]})}),Object(a.jsx)(D,{visible:n,setVisible:r}),Object(a.jsx)(W.a,{columns:m,dataSource:null===o||void 0===o?void 0:o.dailyCardList})]})},M=n(111),P=M.a.Option,z=function(e){var t=e.visible,n=e.setVisible,r=Object(c.useState)([]),i=Object(N.a)(r,2),s=i[0],u=i[1],d=Object(c.useState)(null),b=Object(N.a)(d,2),h=b[0],O=b[1],m=Object(c.useState)(),p=Object(N.a)(m,2),x=p[0],f=p[1],v=Object(c.useState)(),g=Object(N.a)(v,2),y=g[0],w=g[1],k=Object(c.useState)(),C=Object(N.a)(k,2),S=C[0],E=C[1];Object(c.useEffect)((function(){I.get("/admin/getAllCollege").then((function(e){return u(e.data)}))}));var T=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post("/admin/insertTeacher",{teacherId:x,name:y,collegeId:h,idCard:S});case 2:n(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(G.a,{title:"\u6dfb\u52a0\u65b0\u6559\u5e08",onCancel:function(){return n(!1)},visible:t,onOk:T,children:[Object(a.jsx)(M.a,{placeholder:"\u5b66\u9662",style:{width:"100%"},onChange:function(e){return O(e)},children:s.map((function(e){return Object(a.jsx)(P,{value:e.id,children:e.name})}))}),Object(a.jsx)(j.a,{placeholder:"\u5de5\u53f7",onChange:function(e){return f(e.target.value)},value:x}),Object(a.jsx)(j.a,{placeholder:"\u59d3\u540d",onChange:function(e){return w(e.target.value)},value:y}),Object(a.jsx)(j.a,{placeholder:"\u8eab\u4efd\u8bc1\u53f7",onChange:function(e){return E(e.target.value)},value:S})]})},V=function(){var e=Object(c.useState)(!1),t=Object(N.a)(e,2),n=t[0],r=t[1],i=Object(w.c)((function(e){return e.login})),s=Object(c.useState)(),o=Object(N.a)(s,2),l=o[0],u=o[1],d=[{title:"\u5de5\u53f7",dataIndex:"teacherId",key:"teacherId"},{title:"\u59d3\u540d",dataIndex:"name",key:"name"},{title:"\u5b66\u9662",dataIndex:"className",key:"className"},{title:"\u5065\u5eb7\u7801",dataIndex:"type",key:"type",render:function(e){switch(e){case y.GREEN:return"\u7eff\u7801";case y.RED:return"\u7ea2\u7801";case y.YELLOW:return"\u9ec4\u7801"}}}];return Object(c.useEffect)((function(){I.get("/admin/getTeacherStatistic").then((function(e){return u(e.data)}))}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)(B.a,{onBack:function(){return window.history.back()},ghost:!1,title:"\u6559\u5e08\u7ba1\u7406",extra:"systemAdmin"===i.type&&Object(a.jsx)(b.a,{onClick:function(){return r(!0)},type:"primary",children:"\u6dfb\u52a0\u65b0\u6559\u5e08"}),children:Object(a.jsxs)(R.b,{children:[Object(a.jsx)(R.b.Item,{label:"\u6559\u5e08\u603b\u6570",children:null===l||void 0===l?void 0:l.totalTeacherCount}),Object(a.jsx)(R.b.Item,{label:"\u7eff\u7801\u6559\u5e08\u6570\u91cf",children:null===l||void 0===l?void 0:l.greenCodeTeacherCount}),Object(a.jsx)(R.b.Item,{label:"\u9ec4\u7801\u6559\u5e08\u6570\u91cf",children:null===l||void 0===l?void 0:l.yellowCodeTeacherCount}),Object(a.jsx)(R.b.Item,{label:"\u7ea2\u7801\u6559\u5e08\u6570\u91cf",children:null===l||void 0===l?void 0:l.redCodeTeacherCount})]})}),Object(a.jsx)(z,{visible:n,setVisible:r}),Object(a.jsx)(W.a,{columns:d,dataSource:null===l||void 0===l?void 0:l.dailyCardList})]})},Y=n(60),U=function(){var e=Object(c.useState)([]),t=Object(N.a)(e,2),n=t[0],r=t[1];Object(c.useEffect)((function(){I.get("/admin/getAllCollege").then((function(e){return r(e.data)}))}),[]);var i=[{title:"\u5b66\u9662\u540d",dataIndex:"name",key:"name"},{title:"",dataIndex:"id",key:"id",render:function(e){return Object(a.jsx)(Y.b,{to:"/admin/college/".concat(e),children:"\u67e5\u770b\u6240\u6709\u4e13\u4e1a"})}},{title:"",dataIndex:"id",key:"id",render:function(e){return Object(a.jsx)(Y.b,{to:"/admin/student/".concat(e),children:"\u67e5\u770b\u8be5\u5b66\u9662\u6240\u6709\u5b66\u751f\u4fe1\u606f"})}},{title:"",dataIndex:"id",key:"id",render:function(e){return Object(a.jsx)(Y.b,{to:"/admin/student/".concat(e),children:"\u67e5\u770b\u8be5\u5b66\u9662\u6240\u6709\u6559\u5e08\u4fe1\u606f"})}}];return Object(a.jsx)("div",{children:Object(a.jsx)(W.a,{columns:i,dataSource:n})})},H=n(407),J=n(408),_=n(409),$=function(){var e=Object(c.useState)([]),t=Object(N.a)(e,2),n=t[0],r=t[1],i=Object(E.h)(),s=i.collegeId,o=i.majorId;Object(c.useEffect)((function(){I.get("/admin/getAllClazzByMajor",{params:{majorId:o}}).then((function(e){return r(e.data)}))}),[o]);var l=[{title:"\u73ed\u7ea7\u540d",dataIndex:"name",key:"name"},{title:"",dataIndex:"id",key:"id",render:function(e){return Object(a.jsx)(Y.b,{to:"/admin/student/".concat(s,"/").concat(o,"/").concat(e),children:"\u67e5\u770b\u8be5\u73ed\u7ea7\u6240\u6709\u5b66\u751f\u4fe1\u606f"})}}];return Object(a.jsx)("div",{children:Object(a.jsx)(W.a,{columns:l,dataSource:n})})},Q=function(){var e=Object(c.useState)([]),t=Object(N.a)(e,2),n=t[0],r=t[1],i=Object(E.h)().collegeId;Object(c.useEffect)((function(){I.get("/admin/getMajorByCollegeId",{params:{collegeId:i}}).then((function(e){return r(e.data)}))}),[i]);var s=[{title:"\u4e13\u4e1a\u540d",dataIndex:"name",key:"name"},{title:"",dataIndex:"id",key:"id",render:function(e){return Object(a.jsx)(Y.b,{to:"/admin/college/".concat(i,"/major/").concat(e),children:"\u67e5\u770b\u6240\u6709\u73ed\u7ea7"})}},{title:"",dataIndex:"id",key:"id",render:function(e){return Object(a.jsx)(Y.b,{to:"/admin/student/".concat(i,"/").concat(e),children:"\u67e5\u770b\u8be5\u4e13\u4e1a\u6240\u6709\u5b66\u751f\u4fe1\u606f"})}}];return Object(a.jsx)("div",{children:Object(a.jsx)(W.a,{columns:s,dataSource:n})})},X=L.a.Content,Z=L.a.Sider,ee=function(){var e=Object(w.c)((function(e){return e.login})),t=Object(E.g)(),n=Object(w.b)();if(null==e||!e.login)return Object(a.jsx)(E.a,{to:"/"});if("teacher"===e.type)return Object(a.jsx)(E.a,{to:"/teacher"});if("student"===e.type)return Object(a.jsx)(E.a,{to:"/student"});var c=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post("/logout");case 2:n(S(null));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{children:Object(a.jsxs)(L.a,{style:{minHeight:"100vh"},children:[Object(a.jsxs)(Z,{collapsible:!0,className:"site-layout-background",children:[Object(a.jsx)("div",{className:"logo"}),Object(a.jsxs)(A.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline",children:[Object(a.jsx)(A.a.Item,{icon:Object(a.jsx)(H.a,{}),onClick:function(){return t.push("/admin/student")},children:"\u5b66\u751f\u7ba1\u7406"},"1"),Object(a.jsx)(A.a.Item,{icon:Object(a.jsx)(h.a,{}),onClick:function(){return t.push("/admin/teacher")},children:"\u6559\u5e08\u7ba1\u7406"},"2"),Object(a.jsx)(A.a.Item,{icon:Object(a.jsx)(J.a,{}),onClick:function(){return t.push("/admin/college")},children:"\u5b66\u9662\u7ba1\u7406"},"3"),Object(a.jsx)(A.a.Item,{icon:Object(a.jsx)(_.a,{}),onClick:c,children:"\u767b\u51fa"},"4")]})]}),Object(a.jsx)(L.a,{className:"site-layout",children:Object(a.jsx)(X,{children:Object(a.jsx)("div",{className:"site-layout-background",style:{padding:24,minHeight:360},children:Object(a.jsxs)(E.d,{children:[Object(a.jsx)(E.b,{path:"/admin/student",exact:!0,component:K}),Object(a.jsx)(E.b,{path:"/admin/student/:collegeId",exact:!0,component:K}),Object(a.jsx)(E.b,{path:"/admin/student/:collegeId/:majorId",exact:!0,component:K}),Object(a.jsx)(E.b,{path:"/admin/student/:collegeId/:majorId/:classId",exact:!0,component:K}),Object(a.jsx)(E.b,{path:"/admin/teacher",exact:!0,component:V}),Object(a.jsx)(E.b,{path:"/admin/teacher/:collegeId",exact:!0,component:V}),Object(a.jsx)(E.b,{path:"/admin/college",exact:!0,component:U}),Object(a.jsx)(E.b,{path:"/admin/college/:collegeId",exact:!0,component:Q}),Object(a.jsx)(E.b,{path:"/admin/college/:collegeId/major/:majorId",exact:!0,component:$})]})})})})]})})},te=function(){var e=Object(w.c)((function(e){return e.login})),t=Object(w.b)();if(null==e||!e.login)return Object(a.jsx)(a.Fragment,{});var n=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post("/logout");case 2:t(S(null));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(b.a,{onClick:n,type:"primary",children:"\u767b\u51fa"}),Object(a.jsx)("span",{children:e.name})]})},ne=n(112),ae=n(396),ce=n(397),re=function(e){var t=e.onFinish;return Object(a.jsx)("div",{children:Object(a.jsxs)(u.a,{onFinish:function(e){var n=null!=e.haveBeenToKeyEpidemicAreas,a=null!=e.haveBeenAbroad,c=null!=e.isTheExposed,r=null!=e.isSuspectedCase,i=e.currentSymptoms;t(n,a,c,r,i)},children:[Object(a.jsx)(u.a.Item,{name:"haveBeenToKeyEpidemicAreas",children:Object(a.jsx)(ne.a.Group,{children:Object(a.jsx)(ne.a,{value:"true",children:"\u8fd1\u671f\uff0814\u5929\u5185\uff09\u53bb\u8fc7\u6e56\u5317\u7701\u6216\u91cd\u70b9\u75ab\u533a"})})}),Object(a.jsx)(u.a.Item,{name:"haveBeenAbroad",children:Object(a.jsx)(ne.a.Group,{children:Object(a.jsx)(ne.a,{value:"true",children:"\u8fd1\u671f\uff0814\u5929\u5185\uff09\u53bb\u8fc7\u56fd\u5916"})})}),Object(a.jsx)(u.a.Item,{name:"isTheExposed",children:Object(a.jsx)(ne.a.Group,{children:Object(a.jsx)(ne.a,{value:"true",children:"\u8fd1\u671f\uff0814\u5929\u5185\uff09\u63a5\u89e6\u8fc7\u65b0\u51a0\u786e\u8bca\u75c5\u4eba\u6216\u7591\u4f3c\u75c5\u4eba"})})}),Object(a.jsx)(u.a.Item,{name:"isSuspectedCase",children:Object(a.jsx)(ne.a.Group,{children:Object(a.jsx)(ne.a,{value:"true",children:"\u88ab\u536b\u751f\u90e8\u95e8\u786e\u8ba4\u4e3a\u65b0\u51a0\u80ba\u708e\u786e\u8bca\u75c5\u4f8b\u6216\u7591\u4f3c\u75c5\u4f8b"})})}),Object(a.jsx)(u.a.Item,{name:"currentSymptoms",children:Object(a.jsx)(ne.a.Group,{children:Object(a.jsxs)(ae.a,{children:[Object(a.jsx)(ce.a,{span:8,children:Object(a.jsx)(ne.a,{value:"\u53d1\u70e7",children:"\u53d1\u70e7\uff08\u226537.3\u2103\uff09"})}),Object(a.jsx)(ce.a,{span:8,children:Object(a.jsx)(ne.a,{value:"\u4e4f\u529b",children:"\u4e4f\u529b"})}),Object(a.jsx)(ce.a,{span:8,children:Object(a.jsx)(ne.a,{value:"\u5e72\u54b3",children:"\u5e72\u54b3"})}),Object(a.jsx)(ce.a,{span:8,children:Object(a.jsx)(ne.a,{value:"\u9f3b\u585e",children:"\u9f3b\u585e"})}),Object(a.jsx)(ce.a,{span:8,children:Object(a.jsx)(ne.a,{value:"\u6d41\u6d95",children:"\u6d41\u6d95"})}),Object(a.jsx)(ce.a,{span:8,children:Object(a.jsx)(ne.a,{value:"\u54bd\u75db",children:"\u54bd\u75db"})}),Object(a.jsx)(ce.a,{span:8,children:Object(a.jsx)(ne.a,{value:"\u8179\u6cfb",children:"\u8179\u6cfb"})})]})})}),Object(a.jsx)(u.a.Item,{rules:[{required:!0,message:"\u672a\u52fe\u9009\u6b64\u9879"}],children:Object(a.jsx)(d.a.Group,{children:Object(a.jsx)(d.a,{children:"\u672c\u4eba\u90d1\u91cd\u627f\u8bfa\uff1a\u586b\u62a5\u4fe1\u606f\u771f\u5b9e\uff0c\u613f\u610f\u627f\u62c5\u76f8\u5e94\u7684\u6cd5\u5f8b\u8d23\u4efb\u3002"})})}),Object(a.jsx)(u.a.Item,{children:Object(a.jsx)(b.a,{type:"primary",htmlType:"submit",children:"\u63d0\u4ea4"})})]})})},ie=n(401),se=function(){var e=Object(w.c)((function(e){return e.login})),t=Object(c.useState)(!1),n=Object(N.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(!0),u=Object(N.a)(s,2),d=u[0],j=u[1];if(Object(c.useEffect)((function(){I.get("/student/cardStatus").then((function(e){return i(e.data)})).finally((function(){return j(!1)}))}),[]),null==e||!e.login)return Object(a.jsx)(E.a,{to:"/"});if("teacher"===e.type)return Object(a.jsx)(E.a,{to:"/teacher"});if("student"!==e.type)return Object(a.jsx)(E.a,{to:"/admin"});var b=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,c,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I.post("/student/submit",{haveBeenToKeyEpidemicAreas:t,haveBeenAbroad:n,isTheExposed:a,isSuspectedCase:c,currentSymptoms:r}).then((function(){return i(!0)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,c,r){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{style:{marginLeft:"30%",marginRight:"30%",marginTop:30},children:[Object(a.jsx)(te,{}),d&&Object(a.jsx)(ie.a,{active:!0}),!d&&r&&Object(a.jsx)("img",{src:"/student/qrcode",alt:"\u5065\u5eb7\u7801"}),!d&&!r&&Object(a.jsx)(re,{onFinish:b})]})},oe=function(){var e=Object(c.useState)(!1),t=Object(N.a)(e,2),n=t[0],r=t[1],i=Object(w.c)((function(e){return e.login})),s=Object(c.useState)(!0),u=Object(N.a)(s,2),d=u[0],j=u[1];if(Object(c.useEffect)((function(){I.get("/teacher/cardStatus").then((function(e){return r(e.data)})).finally((function(){return j(!1)}))}),[]),null==i||!i.login)return Object(a.jsx)(E.a,{to:"/"});if("student"===i.type)return Object(a.jsx)(E.a,{to:"/student"});if("teacher"!==i.type)return Object(a.jsx)(E.a,{to:"/admin"});var b=function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,c,i){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I.post("/teacher/submit",{haveBeenToKeyEpidemicAreas:t,haveBeenAbroad:n,isTheExposed:a,isSuspectedCase:c,currentSymptoms:i}).then((function(){return r(!0)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,c,r){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{style:{marginLeft:"30%",marginRight:"30%",marginTop:30},children:[Object(a.jsx)(te,{}),d&&Object(a.jsx)(ie.a,{active:!0}),!d&&n&&Object(a.jsx)("img",{src:"/teacher/qrcode",alt:"\u5065\u5eb7\u7801"}),!d&&!n&&Object(a.jsx)(re,{onFinish:b})]})};var le=function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(E.d,{children:[Object(a.jsx)(E.b,{path:"/",exact:!0,component:T}),Object(a.jsx)(E.b,{path:"/teacher",component:oe}),Object(a.jsx)(E.b,{path:"/admin",component:ee}),Object(a.jsx)(E.b,{path:"/student",component:se})]})})},ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,410)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},de=n(85),je=n(212),be=n(213),he=Object(de.combineReducers)({login:C}),Oe=Object(de.createStore)(he,Object(je.composeWithDevTools)(Object(de.applyMiddleware)(be.a))),me=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function pe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(Object(a.jsx)(w.a,{store:Oe,children:Object(a.jsx)(Y.a,{children:Object(a.jsx)(le,{})})}),document.getElementById("root")),ue(),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");me?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):pe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):pe(t,e)}))}}()}},[[393,1,2]]]);
//# sourceMappingURL=main.c7f67b57.chunk.js.map